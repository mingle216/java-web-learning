<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8">
    <title>前后端分离POST请求——传JSON形式参数</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
<h2>前后端分离POST请求——传JSON形式参数</h2>
<div class="parent">
    <div class="child">
        <label for="account">
            账号：
            <input type="text" name="account" placeholder="请输⼊账号"
           id="account"/>
        </label>
        <label for="password">
            密码：
            <input type="password" name="password" placeholder="请输⼊密码"
           id="password"/>
        </label>
        <label for="btn">
            <input type="button" value="登录" id="btn"/>
        </label>
    </div>
</div>
<script>
    const btn = document.getElementById("btn");
    btn.onclick = function () {
        const account = document.getElementById("account");
        const password = document.getElementById("password");
        //创建对象
        let obj = {
            "account": account.value,
            "password": password.value
        }
        //创建axios的post请求动作
        // let xHttp = new XMLHttpRequest();
        // xHttp.open("post","/login?"+obj);
        // xHttp.send();
        // xHttp.onreadystatechange = function () {
        //     let s = this.responseText;
        //     alert(s)
        // };

        axios.post('/login2', obj)
            .then(function (response) {
                alert(JSON.stringify(response.data))
            }).catch(function (error) {
            alert(JSON.stringify(error));
        });
    }
</script>
</body>
</html>